{"version":3,"sources":["static/homebg.jpg","static/jumpbg.jpg","GameWeb3.js","ComAlert.js","common-method.js","Home.js","Page.js","App.js","index.js"],"names":["module","exports","ContractAddress","NetworkList","GameWeb3","init","Promise","resolve","reject","ethereum","window","autoRefreshOnNetworkChange","enable","then","accounts","provider","web3","currentProvider","Web3","eth","net","getId","result","currentChainId","setMaxListeners","currentContractAddress","undefined","MyContract","Contract","abi","defaultAccount","toLowerCase","catch","error","console","log","location","reload","getGridSize","methods","call","gridSize","getGridInfo","index","gridInfo","fly","_value","send","from","value","on","transactionHash","confirmationNumber","receipt","type","poolTotalFee","currentVersion","getBlance","getBalance","utils","fromWei","allEvents","events","fromBlock","event","subscriptionId","connected_subscriptionId","event_data","event_changed","event_error","ComAlert","props","state","this","flag","className","children","Component","fixDEAdd","num","precision","autoFix","parseFloat","padEnd","number","strN","toString","indexOf","n","match","nl","nr","floatN","params","pr","substr","i","p","strl","length","pal","split","par","arry","slice","fixInput","val","fixs","fix","v","charAt","strArr","reduce","res","c","arr","integer","decimal","substring","Object","keys","forEach","str","Home","grid","toArr","ToItem","price","blance","pending","jumpConfimBg","toId","AllBonus","season","NoteContent","inputPrice","bind","that","MyWeb3","zombieArmy","getPrice","getAllBonus","getCurrentVersion","alert","_grid","gridId","push","setState","target","data","onClick","confimEvent","confimJump","Math","pow","numbers","toWei","key","PassGrid","returnValues","style","PayGrid","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","d","x1","y1","x2","y2","placeholder","maxLength","onChange","submitEvent","callback","Flag","src","homebg","map","item","name","level","toEvent","jumpEvent","jumpbg","jumpBgEvent","path","component","Page","page","id","search","pathname","replace","nextProps","App","AdminArea","WalletBtn","wallet","chainId","networkVersion","href","origin","basename","btnFun","exact","activeClassName","to","require","EventEmitter","prototype","_maxListeners","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.28fdc305.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/homebg.40ababd5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/jumpbg.9e280fd0.jpg\";","import Web3 from \"web3\";\r\nimport abi from './GameControl.json'\r\n// import ContractAddress from './ContractAddress'\r\n\r\n\r\nconst ContractAddress = {\r\n    \"4\": \"0x878b6bb506A877772157B94D64D1D8eA434E71C7\",\r\n}\r\n\r\nconst NetworkList = {\r\n    \"1\": \"Ethereum\",\r\n    \"2\": \"Morden\",\r\n    \"3\": \"Ropsten\",\r\n    \"4\": \"Rinkeby\",\r\n    \"5\": \"Goerli\",\r\n    \"42\": \"Kovan\",\r\n}\r\n\r\nconst GameWeb3 = {\r\n    init() {\r\n        /*\r\n        '1': Ethereum Main Network\r\n        '2': Morden Test network\r\n        '3': Ropsten Test Network\r\n        '4': Rinkeby Test Network\r\n        '5': Goerli Test Network\r\n        '42': Kovan Test Network\r\n        */\r\n        return new Promise((resolve, reject) => {\r\n            //let currentChainId = parseInt(window.ethereum.chainId, 16)\r\n            let ethereum = window.ethereum\r\n            //禁止自动刷新，metamask要求写的\r\n            ethereum.autoRefreshOnNetworkChange = false\r\n            //开始调用metamask\r\n            ethereum.enable().then(function (accounts) {\r\n                //初始化provider\r\n                let provider = window['ethereum'] || window.web3.currentProvider\r\n                //初始化Web3\r\n                window.web3 = new Web3(provider)\r\n                //获取到当前以太坊网络id\r\n                window.web3.eth.net.getId().then(function (result) {\r\n                    let currentChainId = result\r\n                    //设置最大监听器数量，否则出现warning\r\n                    window.web3.currentProvider.setMaxListeners(300)\r\n                    //从json获取到当前网络id下的合约地址\r\n                    let currentContractAddress = ContractAddress[currentChainId]\r\n                    if (currentContractAddress !== undefined) {\r\n                        //实例化合约\r\n                        window.MyContract = new window.web3.eth.Contract(abi.abi, currentContractAddress)\r\n                        //获取到当前默认的以太坊地址\r\n                        window.defaultAccount = accounts[0].toLowerCase()\r\n                        //that.allEvents(window.MyContract)\r\n                        resolve(true)\r\n                    } else {\r\n                        reject('Unknow Your ChainId:' + currentChainId)\r\n                    }\r\n                })\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n                if (error) {\r\n                    window.location.reload()\r\n                }\r\n            })\r\n        })\r\n    },\r\n    //格子总数\r\n    getGridSize() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getGridSize().call().then(function (gridSize) {\r\n                resolve(gridSize)\r\n            })\r\n        })\r\n    },\r\n    //获得单个僵尸数据\r\n    getGridInfo(index) {\r\n        return new Promise((resolve, reject) => {\r\n            if (index >= 0) {\r\n                window.MyContract.methods.getGridInfo(index).call().then(function (gridInfo) {\r\n                    resolve(gridInfo)\r\n                })\r\n            }\r\n        })\r\n    },\r\n\r\n\r\n\r\n    //创建随机僵尸\r\n    fly(_value) {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.fly().send({from: window.defaultAccount, value: _value})\r\n                .on('transactionHash', function (transactionHash) {\r\n                    // resolve({type:'transactionHash',transactionHash})\r\n                })\r\n                .on('confirmation', function (confirmationNumber, receipt) {\r\n                    console.log({confirmationNumber: confirmationNumber, receipt: receipt})\r\n                })\r\n                .on('receipt', function (receipt) {\r\n                    console.log({receipt: receipt})\r\n                    //todo 这里有结果数据\r\n                    // window.location.reload()\r\n                    resolve({type:'receipt', receipt})\r\n                })\r\n                .on('error', function (error, receipt) {\r\n                    console.log({error: error, receipt: receipt})\r\n                    reject({error: error, receipt: receipt})\r\n                })\r\n        })\r\n    },\r\n\r\n    //奖金池\r\n    poolTotalFee() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.poolTotalFee().call().then(function (gridSize) {\r\n                resolve(gridSize)\r\n            })\r\n        })\r\n    },\r\n\r\n    //当前赛季\r\n    currentVersion() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.currentVersion().call().then(function (gridSize) {\r\n                resolve(gridSize)\r\n            })\r\n        })\r\n    },\r\n\r\n    // 获取eth余额\r\n    getBlance() {\r\n        return new Promise((resolve, reject) => {\r\n            if (window.defaultAccount) {\r\n                window.web3.eth.getBalance(window.defaultAccount).then(\r\n                    function (result) {\r\n                        resolve(window.web3.utils.fromWei(result, 'ether'))\r\n                    });\r\n            }\r\n            \r\n        })\r\n\r\n    },\r\n\r\n    // 获取当前网络id\r\n    getId() {\r\n        return new Promise((resolve, reject) => {\r\n            window.web3.eth.net.getId().then(\r\n                function (result) {\r\n                    console.log('网络id:',result)\r\n                    resolve(NetworkList[result])\r\n                });\r\n        })\r\n\r\n    },\r\n\r\n    //所有事件\r\n    allEvents() {\r\n        window.MyContract.events.allEvents({fromBlock: 0}, function (error, event) {\r\n            console.log({allEvents: event})\r\n        }).on(\"connected\", function (subscriptionId) {\r\n            console.log({connected_subscriptionId: subscriptionId})\r\n        }).on('data', function (event) {\r\n            console.log({event_data: event})\r\n        }).on('changed', function (event) {\r\n            console.log({event_changed: event})\r\n        }).on('error', function (error, receipt) {\r\n            console.log({event_error: error, receipt: receipt})\r\n        })\r\n    },\r\n    \r\n}\r\n\r\nexport default GameWeb3;","import React, { Component } from 'react'\n\nclass ComAlert extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        }\n    }\n        \n    componentDidMount(){\n    }\n    render() { \n      const Flag = this.props.flag\n      if (Flag) {\n            return (\n                <div className=\"box-waper\">\n                  <div className=\"box-content\">\n                    {this.props.children}\n                  </div>\n                </div>\n            )\n          } else {\n            return (\n              <></>\n            )\n          }\n    }\n}\n \nexport default ComAlert;","// 汇率计算\n\nexport const logImg = (data) => {\n  if (!/localhost|dev|staging/g.test(window.location.host)) {\n    const img = document.createElement('img');\n    img.src = `https://chaindown-oss.oss-cn-hongkong.aliyuncs.com/static/cd.png?info=${JSON.stringify(data)}`;\n  }\n};\n\nexport const getCountryList = (phoneCodeGlobal) => {\n  const list = [];\n  const countryMap = {};\n  const countryRealMap = {};\n  if (phoneCodeGlobal.A) {\n    Object.keys(phoneCodeGlobal).forEach((item) => {\n      phoneCodeGlobal[item].forEach((vitem) => {\n        const valueArr = vitem.split('+');\n        const value = `${valueArr[0]}+${valueArr[1]}`;\n        const codeArr = vitem.split(' +');\n        const code = `+${codeArr[1].split('+')[0]}`;\n        const obj = { value, code: `+${valueArr[2]}`, keyCode: code };\n        list.push(obj);\n        countryMap[code] = obj;\n        countryRealMap[`+${valueArr[2]}`] = obj;\n      });\n    });\n  }\n  return (() => ({\n    list,\n    countryMap,\n    countryRealMap,\n  }))();\n};\n\nexport const diff = (date) => {\n  const dateBegin = new Date(date.replace(/-/g, '/'));\n  const dateEnd = new Date();\n  const dateDiff = dateEnd.getTime() - dateBegin.getTime();\n  const dayDiff = -Math.floor(dateDiff / (24 * 3600 * 1000));\n  return dayDiff;\n};\n// 时间格式化\nexport const formatTime = (dateTime) => {\n  const date = new Date(dateTime);\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n\n  function s(t) {\n    return t < 10 ? `0${t}` : t;\n  }\n\n  return `${year}-${s(month)}-${s(day)} ${s(hours)}:${s(minutes)}:${s(seconds)}`;\n};\n\n// 精度计算E+处理方法\nconst fixDEAdd = (num, precision, autoFix = true) => {\n  if (`${num}` === '0') {\n    if (!window.parseFloat(precision) || !autoFix) return 0;\n    return '0.'.padEnd(precision + 2, '0');\n  }\n  if (!num) return '--';\n\n  const number = parseFloat(num);\n  const strN = num.toString();\n  const flag = number < 0;\n  let result = strN;\n\n  if (strN.toLowerCase().indexOf('e') > -1) {\n    const n = strN.match(/(\\d+?)(?:\\.(\\d*))?e([+-])(\\d+)/);\n    const nl = n[1]; // 小数点左边\n    const nr = n[2]; // 小数点右边\n    const type = n[3]; //  + / -\n    const floatN = n[4]; // 科学计数法的位数\n\n    let params = '';\n    let pr = nr ? nr.substr(floatN) : '';\n\n    if (pr) pr = `.${pr}`;\n    if (type !== '-') {\n      for (let i = 0; i < floatN; i += 1) {\n        const p = nr[i] || '0';\n        params += p;\n      }\n      result = nl + params + pr;\n    } else {\n      let strl = '0';\n      for (let i = 0; i < floatN; i += 1) {\n        const p = nl[nl.length - i - 1] || '0';\n        params = p + params;\n      }\n      if (nl.length > floatN) strl = nl.substr(0, nl.length - floatN);\n      result = `${strl}.${params}${nr}`;\n    }\n  }\n\n  if (precision && autoFix) {\n    let pal = `${result.split('.')[0]}.`;\n    const par = result.split('.')[1] || '';\n\n    for (let i = 0; i < precision; i += 1) {\n      pal += par[i] || '0';\n    }\n    result = pal;\n  }\n\n\n  if (result.length > 14) {\n    const arry = result.split('.');\n    if (arry[0].length > 14) {\n      result = `${arry[0].slice(0, 14)}+`;\n    } else {\n      result = result.slice(0, 13);\n      if (result.indexOf('.') === 12) {\n        result = result.slice(0, 12);\n      }\n    }\n  }\n\n  return `${flag ? '-' : ''}${result}`;\n};\n// 精度计算\nexport const fixD = (num, precision) => {\n  // num初始化\n  if (`${num}` === '0') {\n    if (!window.parseFloat(precision)) {\n      return 0;\n    }\n    return '0.'.padEnd(precision + 2, '0');\n  }\n  if (!num) {\n    return '--';\n  }\n  // 暂用 ----\n  // if (num.length > 14) {\n  //   let rNum = num.slice(0, 14);\n  //   if (num[13] === '.') {\n  //     rNum = rNum.slice(0, 13);\n  //   }\n  //   return `${rNum}+`;\n  // }\n  // ----------\n  let flag = false;\n  if (parseFloat(num) < 0) {\n    flag = true;\n  }\n\n  const newnum = `${Math.abs(parseFloat(num))}`;\n  if (newnum === 'NaN') {\n    return '--';\n  }\n  let fixNum = newnum;\n  // 科学计数法计算\n  if (newnum.toLowerCase().indexOf('e') > -1) {\n    if (newnum.toLowerCase().indexOf('+') > -1) return fixDEAdd(newnum, precision);\n    const a = newnum.toLowerCase().split('e');\n    let b = a[0];\n    const c = Math.abs(parseFloat(a[1]));\n    let d = '';\n    let h = b.length;\n    let i;\n    if (a[0].split('.')[1]) {\n      b = a[0].split('.')[0] + a[0].split('.')[1];\n      h = a[0].split('.')[0].length;\n    }\n    for (i = 0; i < c - h; i += 1) {\n      d += '0';\n    }\n    fixNum = `0.${d}${b}`;\n  }\n  // 精度格式化\n  // precision初始化\n  if (`${precision}` !== '0' && !precision) {\n    return (flag ? '-' : '') + fixNum;\n  }\n  if (`${parseFloat(num)}` === 'NaN') {\n    return (flag ? '-' : '') + fixNum;\n  }\n  const fNum = fixNum.split('.');\n  if (precision === 0) {\n    fixNum = parseInt(fixNum, 10);\n  } else if (precision > 0 && fNum[1]) {\n    if (fNum[1].length > precision) {\n      if (fNum[1].indexOf('999999999') > -1) {\n        const s = parseFloat(fixNum).toFixed(precision + 1);\n        fixNum = s.slice(0, s.length - 1);\n      } else {\n        fixNum = `${fNum[0]}.${fNum[1].slice(0, precision)}`;\n      }\n    } else {\n      fixNum = parseFloat(fixNum).toFixed(precision);\n    }\n  } else {\n    fixNum = parseFloat(fixNum).toFixed(precision);\n  }\n  if (fixNum.length >= 14 && fixNum.indexOf('.') > -1) {\n    const arry = fixNum.split('.');\n    if (arry[0].length > 14) {\n      fixNum = `${arry[0].slice(0, 14)}+`;\n    } else {\n      fixNum = fixNum.slice(0, 13);\n      if (fixNum.indexOf('.') === 12) {\n        fixNum = fixNum.slice(0, 12);\n      }\n    }\n  }\n  return (flag ? '-' : '') + fixNum;\n};\n\n// 删除小数点最后面的0\nexport const lastD = (num) => {\n  if (!num) return num;\n  const newNum = `${num}`;\n  const str = newNum.split('.')[1];\n  if (!str) return newNum;\n\n  function substring(stri) {\n    const arr = stri.split('');\n    for (let i = arr.length - 1; i >= 0; i -= 1) {\n      if (!arr[i]) return newNum.split('.')[0];\n      if (arr[i] === '0') {\n        arr.splice(i);\n      } else {\n        break;\n      }\n    }\n    if (!arr.length) return newNum.split('.')[0];\n    return `${newNum.split('.')[0]}.${arr.join('')}`;\n  }\n\n  return substring(str);\n};\n// 获取url里的参数\nexport const fixUrl = (name) => {\n  const text = window.location.search.substring(1).split('&');\n  let v = null;\n  for (let i = text.length - 1; i >= 0; i -= 1) {\n    const key = text[i].split('=')[0];\n    const value = text[i].split('=')[1];\n    if (key === name) {\n      v = value;\n      break;\n    }\n  }\n  return v;\n};\n// 输入框\nexport const fixInput = (val, fixs) => {\n  let fix = fixs;\n  if (!fix === 0) {\n    fix = fix || 10;\n  }\n\n  let v = `${fixDEAdd(val, fixs, false)}`;\n  // 操作1\n  // 用户行为 直接上来打个.\n  // 解决方案 置换成0.\n  if (v.charAt(0) === '.') {\n    v = '0.';\n  }\n  // 操作2\n  // 用户行为 打多个点.\n  // 解决方案 保留第二个点以前的数值\n  const strArr = [...v].reduce((res, c) => {\n    if (res[c]) {\n      res[c] += 1;\n    } else {\n      res[c] = 1;\n    }\n    return res;\n  }, {});\n  if (strArr['.'] === 2) {\n    const arr = v.split('.');\n    v = `${arr[0]}.${arr[1]}`;\n  }\n  // 操作3\n  // 用户行为 小数点后输入超过该币种精度限制\n  // 解决方案 保留该精度之前的数值\n  if (v.indexOf('.') !== -1) {\n    const integer = v.split('.')[0]; // 整数\n    let decimal = v.split('.')[1]; // 小数\n    if (decimal.length > fix) {\n      decimal = decimal.substring(0, fix);\n      v = `${integer}.${decimal}`;\n    }\n  }\n  // 操作4\n  // 用户行为 转成汉语拼音后可输入汉字字母等字符\n  // 解决方案 干掉写入的文字\n  const strKey = Object.keys(strArr);\n  strKey.forEach((c) => {\n    let str = '01234567890.';\n    if (fix === 0) { str = '01234567890'; }\n    if (str.indexOf(c) === -1) {\n      v = v.split(c)[0] + (v.split(c)[1] || '');\n    }\n  });\n  // 操作5\n  // 用户行为 输入总长度超过14位 包括.\n  // 解决方案 截取前14位\n  if (v.length > 13) {\n    v = v.substring(0, 13);\n  }\n  return v;\n};\n// 计算倒计时 仅支持到天位\nexport const getTime = (spkTime) => {\n  let dateSpan = Math.abs(spkTime);\n  if (!dateSpan) { return ''; }\n  // 计算天\n  const iDays = Math.floor(dateSpan / (24 * 3600 * 1000));\n  // 计算小时\n  dateSpan -= (iDays * (24 * 3600 * 1000));\n  let iHour = `${Math.floor(dateSpan / (3600 * 1000))}`;\n  iHour = iHour.length === 1 ? `0${iHour}` : iHour;\n  // 计算分钟\n  dateSpan -= (iHour * (3600 * 1000));\n  let iMin = `${Math.floor(dateSpan / (60 * 1000))}`;\n  iMin = iMin.length === 1 ? `0${iMin}` : iMin;\n  // 计算秒钟\n  dateSpan -= (iMin * (60 * 1000));\n  let iSec = `${Math.floor(dateSpan / 1000)}`;\n  iSec = iSec.length === 1 ? `0${iSec}` : iSec;\n  return {\n    day: iDays,\n    hour: iHour,\n    min: iMin,\n    sec: iSec,\n  };\n};\n// 计算时间 2012:12:12 12:12:12\nexport function timeFn(dataObj, data) {\n  let fmt = data;\n  const o = {\n    'M+': dataObj.getMonth() + 1, // 月份\n    'd+': dataObj.getDate(), // 日\n    'h+': dataObj.getHours(), // 小时\n    'm+': dataObj.getMinutes(), // 分\n    's+': dataObj.getSeconds(), // 秒\n    'q+': Math.floor((dataObj.getMonth() + 3) / 3), // 季度\n    S: dataObj.getMilliseconds(), // 毫秒\n  };\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (`${dataObj.getFullYear()}`).substr(4 - RegExp.$1.length));\n  }\n  Object.keys(o).forEach((k) => {\n    if (new RegExp(`(${k})`).test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k])\n        : ((`00${o[k]}`).substr((`${o[k]}`).length)));\n    }\n  });\n  return fmt;\n}\nexport const getComplexType = (obj) => {\n  const type = Object.prototype.toString.call(obj);\n  return type.match(/\\s(.+)]/ig)[0].trim().replace(']', '');\n};\n\nexport const thousands = (num) => {\n  const str = num.toString();\n  const reg = str.indexOf('.') > -1 ? /(\\d)(?=(\\d{3})+\\.)/g : /(\\d)(?=(?:\\d{3})+$)/g;\n  return str.replace(reg, '$1,');\n};\n\n\nexport function getLocationLang() {\n  const langList = ['el_GR', 'en_US', 'ja_JP', 'ko_KR', 'vi_VN', 'zh_CN'];\n  const hrefLang = window.location.href.match(/lang=(.+?)(&|$)/);\n  let url = '';\n\n  if (hrefLang && hrefLang[1] && langList.indexOf(hrefLang[1]) > -1) {\n    [, url] = hrefLang;\n  }\n\n  return url;\n}\n\nexport function getCoinShowName(name, coinList = {}) {\n  if (name && coinList && coinList[name.toUpperCase()]) {\n    return coinList[name.toUpperCase()].showName || name;\n  }\n  return name;\n}\nexport function fixFloat(num, precision) {\n  const fix = Number(precision);\n  const n = `${num}`;\n  const arr = n.split('.');\n  if (Number.isNaN(Number(num))) {\n    return '--';\n  }\n  if (!fix || arr.length === 1) {\n    return arr[0];\n  }\n  return `${arr[0]}.${arr[1].substring(0, fix)}`;\n}\n// 千位数字每三位加逗号\nexport const thousandsComma = (num) => {\n  const Num = (num || 0).toString();\n  let number = 0;\n  let floatNum = '';\n  let intNum = '';\n  // 判断是否有小数位，有则截取小数点后的数字\n  if (Num.indexOf('.') > 0) {\n    number = Num.indexOf('.'); // 获取小数点出现的位置\n    floatNum = Num.substr(number); // 截取arr.substr(form, length)\n    intNum = Num.substring(0, number); // 截取arr.substring(start, end)\n  } else {\n    intNum = Num;\n  }\n  const result = [];\n  let counter = 0;\n  intNum = intNum.split('');\n  // 利用3的倍数，向数组插入','\n  for (let i = intNum.length - 1; i >= 0; i -= 1) {\n    counter += 1;\n    result.unshift(intNum[i]);\n    if (!(counter % 3) && i !== 0) { result.unshift(','); }\n  }\n  return result.join('') + floatNum || '';\n};\n","import React, { Component } from 'react'\nimport './static/ZombiePreview.css';\nimport MyWeb3 from './GameWeb3'\nimport {\n    BrowserRouter as \n    Route,\n    Link\n  } from \"react-router-dom\"\nimport Page from \"./Page\";\nimport ComAlert from \"./ComAlert\";\nimport {fixInput} from \"./common-method\";\nimport homebg from \"./static/homebg.jpg\";\nimport jumpbg from \"./static/jumpbg.jpg\";\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n             grid:[],\n             toArr: [],\n             ToItem: ()=>{return(<div></div>)},\n             flag: false,\n             price: 0.05,\n             blance: 0,\n             error: false,\n             // 降伞遮罩开关\n             pending: false,\n             // 降伞完成开关\n             jumpConfimBg: false,\n             // 选中地id\n             toId: null,\n             // 奖金池\n             AllBonus: 0,\n             // 第几赛季\n             season: 1,\n             NoteContent:()=>{\n                return(\n                    <div className=\"note\">\n                         <p>\n                            基础操作说明：\n                        </p>\n                        <p>\n                            1. 玩家需提前连接钱包并设置“跳伞”条件。\n                        </p>\n                        <p>\n                            2. 跳伞时，用户的部分资金将被冻结。\n                        </p>\n                        <p>\n                            3. “跳伞”后，玩家将随机降落在一块土地上。根据跳伞条件，自动完成土地购买或过路费交纳。\n                        </p>\n                        <p>\n                            4.根据实际支付金额，退回剩余冻结资金。\n                        </p>\n                        <p>\n                            5.若连续24小时没有玩家参与游戏，土地等级最高的前三名玩家将按照50%、30%、20%的比例瓜分奖金。\n                        </p>\n                    </div>\n                    \n                )\n            },\n        }\n        this.inputPrice = this.inputPrice.bind(this)\n    }\n        \n    componentDidMount(){\n        let that = this\n        let ethereum = window.ethereum\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\n            MyWeb3.init().then(function(res){\n                that.zombieArmy()\n                that.getPrice()\n                that.getAllBonus()\n                that.getCurrentVersion()\n            })\n        }else {\n            alert('You have to install MetaMask !')\n        }\n    }\n    zombieArmy(){\n        let that = this\n        MyWeb3.getGridSize().then(function(result){\n            if(result > 0){\n                for(let i=0;i<result;i++){\n                    MyWeb3.getGridInfo(i).then(function (result) {\n                        let _grid = that.state.grid\n                        result.gridId = i\n                        _grid.push(result);\n                        that.setState({grid:_grid})\n                    })\n                }\n            }\n        })\n    }\n\n    // 获取奖金池\n    getAllBonus() {\n        let that = this\n        MyWeb3.poolTotalFee().then(function(res) {\n            that.setState({\n                AllBonus: window.web3.utils.fromWei(res.toString(),'ether')\n            })\n        })\n    }\n\n    // 获取赛季\n    getCurrentVersion() {\n        let that = this\n        MyWeb3.currentVersion().then(function(res) {\n            that.season = res\n        })\n    }\n\n    // 获取eth余额\n    getPrice() {\n        let that = this\n        MyWeb3.getBlance().then(function(result){\n            that.setState({blance:result})\n        })\n    }\n\n    inputPrice(event){\n        if (this.state.error) {\n            this.setState(\n                {\n                    error: false,\n                }\n            )\n        }\n        \n        this.setState({\n            price:fixInput(event.target.value,6)\n        })\n    }\n\n    toEvent(data) {\n        let adress = ''\n        let that = this\n            that.setState({flag:true})\n            that.setState({ToItem : () =>{\n                return(\n                    <div>\n                        <div className=\"item-note\">\n                        <p>\n                            土地等级：{data['0']}\n                        </p>\n                        <p>\n                            TOKEN地址：{data['1']}: {data['2']}\n                        </p>\n                        <p>\n                            拥有者：{data['3']}\n                        </p>\n                    </div>\n                    <div className=\"confim\" onClick={that.confimEvent.bind(that)}>\n                        确定\n                    </div>\n                </div>)\n                }\n            })\n    }\n\n    confimEvent() {\n        this.setState({flag:false})\n    }\n\n    submitEvent() {\n        if (this.state.price > this.state.blance || this.state.price < 0.05) {\n            this.setState(\n                {\n                    error: true,\n                }\n            )\n        } else {\n            this.confimEvent()\n            this.confimJump()\n            this.setState(\n                {\n                    pending: true,\n                }\n            )\n        }\n    }\n\n    // 取消跳伞完成遮罩\n    jumpBgEvent() {\n        this.setState({\n            jumpConfimBg: false,\n            NoteContent: () => {\n                return(\n                    <div className=\"note\">\n                         <p>\n                            基础操作说明：\n                        </p>\n                        <p>\n                            1. 玩家需提前连接钱包并设置“跳伞”条件。\n                        </p>\n                        <p>\n                            2. 跳伞时，用户的部分资金将被冻结。\n                        </p>\n                        <p>\n                            3. “跳伞”后，玩家将随机降落在一块土地上。根据跳伞条件，自动完成土地购买或过路费交纳。\n                        </p>\n                        <p>\n                            4.根据实际支付金额，退回剩余冻结资金。\n                        </p>\n                        <p>\n                            5.若连续24小时没有玩家参与游戏，土地等级最高的前三名玩家将按照50%、30%、20%的比例瓜分奖金。\n                        </p>\n                    </div>\n                    \n                )\n            },\n        })\n    }\n\n    // 跳伞唤起钱包\n    confimJump() {\n        let that = this\n        const price = this.state.price * Math.pow(10,18)\n        const numbers = window.web3.utils.toWei(price.toString(),'wei')\n        MyWeb3.fly(numbers).then(function(result) {\n                console.log(result,222222)\n                // 返回类型\n            let type = 1\n            for ( let key in result.receipt.events) {\n                if (key === 'PayGrid') {\n                    type = 2\n                }\n            }\n            // window.web3.utils.fromWei(res.toString(),'ether')\n            that.setState(\n                {\n                    pending: false,\n                    jumpConfimBg: true,\n                    toId: result.receipt.events.PassGrid.returnValues['user'],\n                    NoteContent:()=>{\n                        if (type === 1) {\n                                return(\n                            <div className=\"note\" style={{\"zIndex\":'30'}}>\n                                 <p>\n                                    感谢支持过路费🙏\n                                </p>\n                                <p>\n                                    土地编号（NFT）：{result.receipt.events.PassGrid.returnValues['user']}\n                                </p>\n                                <p>\n                                        本次支付：{window.web3.utils.fromWei(result.receipt.events.PassGrid.returnValues['paid'].toString(),'ether')}\n                                    </p>\n                                    <p>\n                                        退换金额：{window.web3.utils.fromWei(result.receipt.events.PassGrid.returnValues['remain'].toString(),'ether')}\n                                    </p>\n                                    {/* <p>\n                                        奖池贡献：{window.web3.utils.fromWei(result.receipt.events.returnValues['remain'].toString(),'ether')}\n                                    </p> */}\n                            </div>\n                            \n                        )\n                        } else {\n                            return(\n                                <div className=\"note\" style={{\"zIndex\":'30'}}>\n                                     <p>\n                                        恭喜您购买一块新土地\n                                    </p>\n                                    <p>\n                                       土地编号（NFT）：{result.receipt.events.PayGrid.returnValues['user']}\n                                    </p>\n                                    <p>\n                                        本次支付：{window.web3.utils.fromWei(result.receipt.events.PayGrid.returnValues['paid'].toString(),'ether')}\n                                    </p>\n                                    <p>\n                                        退换金额：{window.web3.utils.fromWei(result.receipt.events.PayGrid.returnValues['remain'].toString(),'ether')}\n                                    </p>\n                                    {/* <p>\n                                        奖池贡献：\n                                    </p> */}\n                                </div>\n                                \n                            )\n                        }\n                        \n                    },\n                }\n            )\n        }).catch(error => {\n            if (error) {\n                this.setState({\n                    pending: false\n                })\n                return\n            }\n        })\n    }\n\n    jumpEvent() {\n        this.setState({flag:true})\n        this.setState({ToItem : () =>{\n            return(\n                <div className=\"jump\">\n                    <div className=\"jump-content\">\n                        <h4>\n                            游戏设置\n                        </h4>\n                        <div className=\"form-blance\">\n                            土地价格\n                            &nbsp;\n                            <span className=\"current-box\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\"\n                                 strokeWidth=\"2\" strokeLinecap=\"round\"\n                                 strokeLinejoin=\"round\">\n                                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                                <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"></path>\n                                <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\"></line></svg>\n                                <div className=\"level-box\">\n                                    <h4>\n                                        土地价格参照表\n                                    </h4>\n                                    <div className=\"level-pd \">\n                                    <div className=\"level-content\">\n                                        <p>\n                                            <span>\n                                            土地等级\n                                            </span>\n                                            <span>\n                                            土地价格(ETH)\n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            LV.1\n                                            </span>\n                                            <span>\n                                            0.05\n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            LV.2\n                                            </span>\n                                            <span>\n                                            0.055\n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            LV.3\n                                            </span>\n                                            <span>\n                                            0.0605\n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            ......\n                                            </span>\n                                            <span>\n                                            \n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            LV.50\n                                            </span>\n                                            <span>\n                                            5.335947858\n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            ......\n                                            </span>\n                                            <span>\n                                            \n                                            </span>\n                                        </p>\n                                        <p>\n                                            <span>\n                                            LV.100\n                                            </span>\n                                            <span>\n                                            626.391469992\n                                            </span>\n                                        </p>\n                                    </div>\n                                    </div>\n                                    <div className=\"level-num\">\n                                        计算公式：Lv.N+1 = Lv.N * (1+10%)\n                                    </div>\n                                </div>\n                            </span>\n                            &nbsp;\n                            不超过\n                            <input\n                             value={this.state.price}\n                            className={this.state.error ? \"form-input error-input\" : \"form-input\"}\n                             placeholder=\"0.05\"\n                            maxLength=\"79\"\n                            onChange={this.inputPrice}\n                              />\n                            ETH时，优先购买土地，否则支付过路费(0.02ETH/次)\n                            <p>\n                                游戏开始后将冻结土地购置费  {this.state.price}  ETH，未使用金额在游戏结束后退还。\n                            </p>\n                        </div>\n                        <div className=\"form-accounts\">\n                            余额：{this.state.blance} ETH\n                        </div>\n                    </div>\n                <div className=\"form-btn\">\n                    <div className=\"confim\" onClick={this.confimEvent.bind(this)}>\n                        取消\n                    </div>\n                    <div className=\"confim\" onClick={this.submitEvent.bind(this)}>\n                        确定\n                    </div>\n                </div>\n            </div>)\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        this.setState = (state, callback) => {\n            return\n        }\n    }\n    render() { \n        let NoteContent = this.state.NoteContent\n        let ToItem = this.state.ToItem\n        let Flag = this.state.flag\n        if(this.state.grid.length>0) {\n            return ( \n                <div className=\"cards\">\n                    <img src={homebg}/>\n                    <div className=\"img-box\">\n                        <div className=\"to-item-waper master-item\">\n                            <div className=\"to-item-befor\">\n                            </div>\n                            <div className=\"to-item-last\">\n                                \n                            </div>\n                            <div className=\"bonus\">\n                            <p>\n                                奖金池：\n                                <span>\n                                    {this.state.AllBonus}ETH\n                                </span>\n                            </p>\n                            <p>\n                                赛季：\n                                <span>\n                                    {this.state.season}\n                                </span>\n                            </p>\n                            </div>\n                        </div>\n                        {this.state.grid.map((item,index)=>{\n                            var name = item.name\n                            const level = item['0']\n                            const data = {...item}\n                            return(\n                                <div className=\"to-item-waper\" key={item.gridId} style={{\"zIndex\": this.state.toId === item['1'] ? '30' : '1'}}>\n                                    <div className=\"to-item-befor\">\n                                    </div>\n                                    <div className=\"to-item-last\" onClick={this.toEvent.bind(this,data)}>\n                                        LV {level}\n                                    </div>\n                                </div>\n                            )\n                        })}\n                        <div className=\"confim jumpConfim\" onClick={this.jumpEvent.bind(this)}>\n                            点我跳伞 🪂\n                        </div>\n                        <NoteContent></NoteContent>\n                    </div>\n                    <ComAlert flag={Flag}>\n                        <ToItem></ToItem>\n                    </ComAlert>\n                    <div className=\"jump-bg\" style={{'display': this.state.pending ? 'block' : 'none'}}>\n                        <img src={jumpbg}/>\n                    </div>\n                    <div className=\"jump-confim-bg\" onClick={this.jumpBgEvent.bind(this)} style={{'display': this.state.jumpConfimBg ? 'block' : 'none'}}>\n\n                    </div>\n                    <Route path=\"*\" component={Page}></Route>\n                </div> \n            )\n        }else{\n            return ( <div></div>)\n        }\n    }\n}\n \nexport default Home;","import React, { Component } from 'react';\r\nimport  Home  from \"./Home\"\r\n\r\nclass Page extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {page:'',id:0 }\r\n    }\r\n    componentDidMount(){\r\n        let search = this.props.location.pathname.replace(/\\//,'').split('&');\r\n        console.log(search)\r\n        let page = search[0]\r\n        this.setState({page:page})\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps){\r\n        if(nextProps!==this.props){\r\n            this.setState({nextProps})\r\n            let search = nextProps.location.pathname.replace(/\\//,'').split('&');\r\n            let page = search[0] === '' ?  'Home' : search[0]\r\n            this.setState({page:page})\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() { \r\n        switch (this.state.page){\r\n            case 'Home':\r\n                return(<Home></Home>)\r\n            default:\r\n                return(<Home></Home>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default Page;","import React,{Component,Fragment} from 'react'\nimport './static/App.css'\nimport Page from \"./Page\";\nimport MyWeb3 from './GameWeb3'\nimport {\n    BrowserRouter as Router,\n    Route,\n    NavLink\n  } from \"react-router-dom\"\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n             AdminArea:()=>{return(<Fragment></Fragment>)},\n             WalletBtn: ()=>{return(<div></div>)},\n             result: null,\n        }\n    }\n    \n    componentDidMount(){\n        let ethereum = window.ethereum\n        let that = this\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\n            MyWeb3.init().then(function(res){\n                that.getPrice()\n            })\n            ethereum.on('accountsChanged', function (accounts) {\n                console.log(\"accountsChanged:\"+accounts)\n                if (!accounts || !accounts.length) {\n                    that.setState({WalletBtn : () =>{\n                        return(\n                        <div className=\"wallet-btn\" onClick={that.wallet.bind(this)}>\n                            <span>\n                            请连接钱包!\n                            </span>\n                        </div>)\n                        }\n                    })\n                } else {\n                    that.getPrice()\n                }\n                \n                //window.location.reload()\n            })\n            ethereum.on('chainChanged', function (chainId) {\n                console.log(\"chainChanged:\"+chainId)\n                //window.location.reload()\n            })\n            ethereum.on('networkChanged', function (networkVersion) {\n                console.log(\"networkChanged:\"+networkVersion)\n                //window.location.reload()\n            })\n        }else {\n            alert('你必须安装MetaMask!')\n        }\n        \n    }\n\n    // 连接钱包\n    wallet() {\n        let that = this\n        MyWeb3.init().then(function(res){\n            // that.getPrice()\n        })\n    }\n\n    // 获取eth余额\n    getPrice() {\n        let that = this\n        MyWeb3.getBlance().then(function(result){\n            that.setState({\n                result: result\n            })\n            that.getId()\n        })\n        \n        \n    }\n\n    getId() {\n        let that = this\n        MyWeb3.getId().then(function(result){\n            that.setState({WalletBtn : () =>{\n                return(\n                <div className=\"wallet-accounts\">\n                    <span>\n                        {result}\n                    </span>\n                    <span>\n                        {that.state.result} ETH\n                    </span>\n                    <span className=\"accounts-span\">\n                        {window.defaultAccount}\n                    </span>\n                </div>)\n            }})\n        })\n    }   \n\n    btnFun() {\n       window.location.href = window.location.origin + window.location.pathname + '#/home'\n    }\n    \n    render() { \n        let AdminArea = this.state.AdminArea\n        let WalletBtn = this.state.WalletBtn\n        return (\n            <Fragment>\n                <Router basename='/bigrichman.github.io/#'>\n                    <section className=\"zombies-hero no-webp app-block-intro\">\n                        <div className=\"container\">\n                            <div className=\"menu\">\n                                <div className=\"logo\" onClick={this.btnFun.bind(this)}>\n\n                                </div>\n                                <ul>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span>\n                                            <NavLink exact\n                                             activeClassName=\"active\"\n                                              to=\"/home\">主页</NavLink>\n                                            </span>\n                                        </button>\n                                    </li>\n                                    {/* <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><NavLink exact activeClassName=\"active\" to=\"/MyZombie\">我的收益</NavLink></span>\n                                        </button>\n                                    </li> */}\n                                    {/* <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><NavLink to=\"/ZombieMarket\">僵尸市场</NavLink></span>\n                                        </button>\n                                    </li>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><NavLink to=\"/ZombieSimulator\">基因模拟</NavLink></span>\n                                        </button>\n                                    </li> */}\n                                    <AdminArea></AdminArea>\n                                </ul>\n                                <WalletBtn></WalletBtn>\n                            </div>\n                        </div>\n                    </section>\n                    <section className=\"zombie-container bg-walls no-webp\">\n                        <div className=\"container\">\n                            <div className=\"area\">\n                                <Route path=\"*\" component={Page}></Route>\n                            </div>\n                        </div>\n                    </section>\n                    \n                </Router>\n            </Fragment>\n            );\n    }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './static/Index.css'\nimport  App  from './App';\nrequire('events').EventEmitter.prototype._maxListeners = 100;\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}